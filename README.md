# Vite Console Plugin

> ğŸš€ ä¸€ä¸ªç²¾ç¾çš„ Vite å¼€å‘æœåŠ¡å™¨å¯åŠ¨ä¿¡æ¯æ’ä»¶ï¼Œæä¾›ä¼ä¸šçº§çš„ç»ˆç«¯è¾“å‡ºä½“éªŒ

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-Ready-blue.svg)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-5.0+-green.svg)](https://vitejs.dev/)

## âœ¨ ç‰¹æ€§

- ğŸ¨ **ç²¾ç¾çš„è§†è§‰æ•ˆæœ** - ä½¿ç”¨ä¸°å¯Œçš„é¢œè‰²å’Œå›¾æ ‡æ‰“é€ ä¸“ä¸šçº§å¯åŠ¨ç•Œé¢
- ğŸ”§ **æ™ºèƒ½ä¿¡æ¯æ•´åˆ** - è‡ªåŠ¨è·å–ç‰ˆæœ¬å·ã€Git ä¿¡æ¯ã€æœåŠ¡å™¨åœ°å€ç­‰å¼€å‘ä¿¡æ¯
- ğŸš« **åŸç”Ÿä¿¡æ¯å±è”½** - æ™ºèƒ½å±è”½ Vite åŸç”Ÿçš„æ‚ä¹±è¾“å‡ºï¼Œä¿ç•™é‡è¦å¼€å‘ä¿¡æ¯
- âš¡ **é›¶é…ç½®ä½¿ç”¨** - å¼€ç®±å³ç”¨ï¼ŒåŒæ—¶æ”¯æŒçµæ´»çš„è‡ªå®šä¹‰é…ç½®
- ğŸ“¦ **è‡ªåŠ¨ç‰ˆæœ¬è¯»å–** - è‡ªåŠ¨ä» `package.json` è¯»å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
- ğŸŒ¿ **Git é›†æˆ** - æ˜¾ç¤ºå½“å‰åˆ†æ”¯å’Œæäº¤å“ˆå¸Œï¼Œä¾¿äºå¼€å‘è°ƒè¯•
- ğŸ›¡ï¸ **å›¢é˜Ÿåä½œ** - æ”¯æŒå›¢é˜Ÿä¿¡æ¯ã€è­¦å‘Šæç¤ºç­‰åä½œåŠŸèƒ½
- ğŸ”„ **é…ç½®é‡è½½æé†’** - é…ç½®æ–‡ä»¶æ›´æ”¹æ—¶æä¾›å‹å¥½çš„é‡è½½æç¤º

## ğŸ“¦ å®‰è£…

```bash
npm install vite-console-plugin --save-dev
# æˆ–
yarn add vite-console-plugin -D
# æˆ–
pnpm add vite-console-plugin -D
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€ä½¿ç”¨

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import viteConsolePlugin from 'vite-console-plugin'

export default defineConfig({
  plugins: [
    viteConsolePlugin({
      systemName: 'My App',
      description: 'æˆ‘çš„åº”ç”¨ç³»ç»Ÿ',
      owner: 'Your Name'
    })
  ]
})
```

### å®Œæ•´é…ç½®

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import viteConsolePlugin from 'vite-console-plugin'

export default defineConfig({
  plugins: [
    viteConsolePlugin({
      systemName: 'Robot_Admin',
      description: 'åå°ç®¡ç†ç³»ç»Ÿ',
      team: 'AGILE|TEAM',
      owner: 'CHENY',
      warning: 'è¯·å‹¿éšæ„ä¿®æ”¹é…ç½®æ–‡ä»¶',
      security: 'ç¦æ­¢éƒ¨ç½²æœªåŠ å¯†çš„æ•æ„Ÿæ•°æ®',
      autoVersion: true
    })
  ]
})
```

## ğŸ“‹ é…ç½®é€‰é¡¹

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `systemName` | `string` | `'Robot_Admin'` | ç³»ç»Ÿåç§° |
| `description` | `string` | `'åå°ç®¡ç†ç³»ç»Ÿ'` | ç³»ç»Ÿæè¿° |
| `team` | `string` | `'AGILE\|TEAM'` | å›¢é˜Ÿåç§° |
| `owner` | `string` | `'CHENY'` | é¡¹ç›®è´Ÿè´£äºº |
| `warning` | `string` | `'è¯·å‹¿éšæ„ä¿®æ”¹é…ç½®æ–‡ä»¶'` | åä½œè­¦å‘Šä¿¡æ¯ |
| `security` | `string` | `'ç¦æ­¢éƒ¨ç½²æœªåŠ å¯†çš„æ•æ„Ÿæ•°æ®'` | å®‰å…¨è­¦å‘Šä¿¡æ¯ |
| `autoVersion` | `boolean` | `true` | æ˜¯å¦è‡ªåŠ¨è¯»å– package.json ç‰ˆæœ¬ |

## ğŸ¨ è¾“å‡ºæ•ˆæœ

### å¯åŠ¨æ—¶çš„å®Œæ•´è¾“å‡º

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸš€ Robot_Admin åå°ç®¡ç†ç³»ç»Ÿ

âš¡ æœåŠ¡å™¨ä¿¡æ¯
   â— æœ¬åœ°è®¿é—®   http://localhost:3000/
   â— ç½‘ç»œè®¿é—®   http://192.168.1.100:3000/
   â— å¼€å‘å·¥å…·   Vue DevTools & UnoCSS Inspector

ğŸ“¦ é¡¹ç›®ä¿¡æ¯
   â— ç‰ˆæœ¬å·       v1.2.3
   â— å¯åŠ¨æ—¶é—´     2025-08-01 10:30:45
   â— Git åˆ†æ”¯     main
   â— æäº¤å“ˆå¸Œ     a1b2c3d

ğŸ‘¥ å›¢é˜Ÿä¿¡æ¯
   â— æ¶æ„ç»„       AGILE|TEAM
   â— è´Ÿè´£äºº       CHENY

âš ï¸  é‡è¦æé†’
   â— è¯·å‹¿éšæ„ä¿®æ”¹é…ç½®æ–‡ä»¶
   â— ç¦æ­¢éƒ¨ç½²æœªåŠ å¯†çš„æ•æ„Ÿæ•°æ®

âœ¨ å¯åŠ¨æˆåŠŸï¼ å¼€å‘æœåŠ¡å™¨å·²å°±ç»ª
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### é…ç½®é‡è½½æç¤º

```
âš¡ é…ç½®é‡è½½ é…ç½®æ–‡ä»¶å·²æ›´æ”¹ï¼Œè¯·éªŒè¯ä¿®æ”¹é¡¹å¹¶å‘ŠçŸ¥ç›¸å…³å¹²ç³»äºº
```

## ğŸ” åŠŸèƒ½è¯¦è§£

### è‡ªåŠ¨ä¿¡æ¯è·å–

æ’ä»¶ä¼šè‡ªåŠ¨è·å–ä»¥ä¸‹ä¿¡æ¯ï¼š

- **ç‰ˆæœ¬å·**: ä» `package.json` è‡ªåŠ¨è¯»å–ï¼Œå¤±è´¥æ—¶é»˜è®¤ä¸º `1.0.0`
- **Git åˆ†æ”¯**: é€šè¿‡ `git rev-parse --abbrev-ref HEAD` è·å–å½“å‰åˆ†æ”¯
- **Git æäº¤**: é€šè¿‡ `git rev-parse --short HEAD` è·å–æœ€æ–°æäº¤çš„çŸ­å“ˆå¸Œ
- **æœåŠ¡å™¨åœ°å€**: è‡ªåŠ¨è·å–æœ¬åœ°å’Œç½‘ç»œè®¿é—®åœ°å€
- **å¯åŠ¨æ—¶é—´**: æœåŠ¡å™¨å¯åŠ¨çš„å…·ä½“æ—¶é—´ï¼ˆä¸­æ–‡æ ¼å¼ï¼‰

### æ™ºèƒ½ä¿¡æ¯å±è”½

æ’ä»¶ä¼šæ™ºèƒ½å±è”½ Vite åŸç”Ÿçš„ä»¥ä¸‹è¾“å‡ºï¼Œä½†ä¿ç•™é‡è¦çš„å¼€å‘ä¿¡æ¯ï¼š

**å±è”½çš„ä¿¡æ¯ï¼š**
- `âœ Local: http://localhost:xxxx/`
- `âœ Network: use --host to expose`
- `âœ Vue DevTools: Open http://...`
- `âœ UnoCSS Inspector: http://...`
- `âœ press h + enter to show help`
- DevTools ç›¸å…³çš„æ‰€æœ‰ URL å’Œå¿«æ·é”®æç¤º

**ä¿ç•™çš„é‡è¦ä¿¡æ¯ï¼š**
- `ready in Xms` - æ„å»ºå®Œæˆæ—¶é—´
- `built in Xms` - æ„å»ºè€—æ—¶
- `server restarted` - æœåŠ¡å™¨é‡å¯
- `hmr update` - HMR æ›´æ–°
- `dependencies optimized` - ä¾èµ–ä¼˜åŒ–å®Œæˆ
- æ‰€æœ‰é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯

### é¢œè‰²å’Œå›¾æ ‡ç³»ç»Ÿ

æ’ä»¶ä½¿ç”¨ä¸°å¯Œçš„ ANSI é¢œè‰²å’Œ Unicode å›¾æ ‡ï¼š

**é¢œè‰²æ–¹æ¡ˆï¼š**
- ğŸŸ¢ ç»¿è‰²ï¼šæˆåŠŸçŠ¶æ€å’Œæœ¬åœ°åœ°å€
- ğŸ”µ è“è‰²ï¼šä¿¡æ¯å’Œç½‘ç»œåœ°å€  
- ğŸŸ¡ é»„è‰²ï¼šè­¦å‘Šå’Œæäº¤ä¿¡æ¯
- ğŸ”´ çº¢è‰²ï¼šå®‰å…¨è­¦å‘Š
- ğŸŸ£ ç´«è‰²ï¼šå¼€å‘å·¥å…·å’Œåˆ†æ”¯ä¿¡æ¯
- âšª ç™½è‰²ï¼šæ ‡é¢˜å’Œé‡è¦ä¿¡æ¯
- ğŸ”˜ ç°è‰²ï¼šåˆ†éš”çº¿å’Œæ¬¡è¦ä¿¡æ¯

**å›¾æ ‡ç³»ç»Ÿï¼š**
- ğŸš€ ç³»ç»Ÿå¯åŠ¨
- ğŸ“¦ é¡¹ç›®ä¿¡æ¯
- ğŸ‘¥ å›¢é˜Ÿä¿¡æ¯
- âš ï¸ é‡è¦æé†’
- âš¡ æœåŠ¡å™¨çŠ¶æ€
- ğŸ›¡ï¸ å®‰å…¨æé†’

## ğŸ¯ æœ€ä½³å®è·µ

### å›¢é˜Ÿåä½œé…ç½®

```typescript
viteConsolePlugin({
  systemName: 'TeamProject',
  description: 'å›¢é˜Ÿåä½œé¡¹ç›®',
  team: 'Frontend Team',
  owner: 'é¡¹ç›®è´Ÿè´£äºº',
  warning: 'ä¿®æ”¹é…ç½®å‰è¯·é€šçŸ¥å›¢é˜Ÿæˆå‘˜',
  security: 'ç”Ÿäº§ç¯å¢ƒæ³¨æ„æ•°æ®å®‰å…¨',
  autoVersion: true
})
```

### ä¸ªäººé¡¹ç›®é…ç½®

```typescript
viteConsolePlugin({
  systemName: 'Personal Project',
  description: 'ä¸ªäººå¼€å‘é¡¹ç›®',
  owner: 'Your Name',
  autoVersion: true,
  // ä¸ªäººé¡¹ç›®å¯ä»¥ç®€åŒ–è­¦å‘Šä¿¡æ¯
  warning: 'æ³¨æ„ä»£ç è§„èŒƒ',
  security: 'ä¿æŠ¤æ•æ„Ÿä¿¡æ¯'
})
```

### æœ€å°åŒ–é…ç½®

```typescript
viteConsolePlugin({
  systemName: 'Simple App'
  // å…¶ä»–é€‰é¡¹å°†ä½¿ç”¨é»˜è®¤å€¼
})
```

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### æ ¸å¿ƒç‰¹æ€§

- **Logger é‡å†™**: é€šè¿‡é‡å†™ `server.config.logger.info/warn` å®ç°ä¿¡æ¯æ‹¦æˆª
- **Console æ‹¦æˆª**: åŒæ—¶æ‹¦æˆª `console.log/info/warn` ç¡®ä¿å®Œæ•´å±è”½
- **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ `globalThis.__vite_console_plugin_state__` é¿å…å¤šå®ä¾‹é‡å¤è¾“å‡º
- **å»¶è¿Ÿæ˜¾ç¤º**: ä½¿ç”¨ 350ms å»¶è¿Ÿç¡®ä¿æœåŠ¡å™¨å®Œå…¨å¯åŠ¨åå†æ˜¾ç¤ºä¿¡æ¯
- **æ­£åˆ™åŒ¹é…**: é€šè¿‡å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼ç²¾ç¡®åŒ¹é…éœ€è¦å±è”½çš„ä¿¡æ¯æ¨¡å¼
- **é”™è¯¯å¤„ç†**: æ‰€æœ‰å¤–éƒ¨å‘½ä»¤è°ƒç”¨éƒ½æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

### æ¶ˆæ¯è¿‡æ»¤é€»è¾‘

```typescript
// å±è”½åˆ¤æ–­ - æ¸…ç† ANSI é¢œè‰²ä»£ç åè¿›è¡Œæ¨¡å¼åŒ¹é…
function shouldBlockMessage(msg: string): boolean {
  const cleanMsg = msg.replace(/\x1b\[[0-9;]*m/g, '').trim();
  // åŒ¹é…å¤šç§å±è”½æ¨¡å¼...
}

// é‡è¦ä¿¡æ¯åˆ¤æ–­ - ä¿ç•™å¯¹å¼€å‘æœ‰ä»·å€¼çš„ä¿¡æ¯
function isImportantDevMessage(msg: string): boolean {
  // åŒ¹é…æ„å»ºæ—¶é—´ã€HMRæ›´æ–°ç­‰é‡è¦ä¿¡æ¯...
}
```

### å…¼å®¹æ€§

- âœ… Vite 3.0+
- âœ… Node.js 16+
- âœ… TypeScript å®Œæ•´æ”¯æŒ
- âœ… Windows / macOS / Linux
- âœ… æ”¯æŒ pnpm / yarn / npm

## ğŸ”§ å¼€å‘è°ƒè¯•

### æ’ä»¶åªåœ¨å¼€å‘æ¨¡å¼ç”Ÿæ•ˆ

```typescript
export default function viteConsolePlugin(): Plugin {
  return {
    name: "vite-console-plugin",
    apply: "serve", // åªåœ¨ vite dev æ—¶ç”Ÿæ•ˆ
    // ...
  }
}
```

### ç¦ç”¨æ¸…å±åŠŸèƒ½

æ’ä»¶ä¼šè‡ªåŠ¨è®¾ç½® `clearScreen: false` ä»¥ä¿æŒè¾“å‡ºçš„è¿ç»­æ€§ã€‚

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0
- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ æ”¯æŒç²¾ç¾çš„å¯åŠ¨ç•Œé¢æ˜¾ç¤º
- ğŸ”§ è‡ªåŠ¨è·å–é¡¹ç›®å’ŒGitä¿¡æ¯
- ğŸš« æ™ºèƒ½å±è”½åŸç”Ÿæ‚ä¹±è¾“å‡º
- ğŸ¨ å®Œæ•´çš„é¢œè‰²å’Œå›¾æ ‡ç³»ç»Ÿ
- âš¡ é…ç½®é‡è½½å‹å¥½æç¤º

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¨â€ğŸ’» ä½œè€…

**CHENY** - [@ycyplus](https://github.com/ycyplus)

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªæ’ä»¶å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ æ”¯æŒä¸€ä¸‹ï¼</p>
  <p>Made with â¤ï¸ by CHENY</p>
</div>